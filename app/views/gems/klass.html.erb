<% title @klass.title %>

<div class="grid grid-cols-4 gap-12">
  <div class="col-span-3">
    <%= render partial: "breadcrumb" %>

    <div class="mt-6 mb-6">
      <%= render Layout::Heading.new(title: @klass) %>
    </div>

    <div class="">
      <% comment = @klass.comments.map { |comment| comment.value.delete_prefix("#").strip+"\n\n" }.join("\n") %>

      <% h = RDoc::Markup::ToHtml.new(RDoc::Options.new) %>
      <%== h.convert(comment) %>
    </div>

    <div class="grid">
      <% @klass.class_methods.sort_by(&:name).each do |class_method| %>
        <%= render MethodDetails.new(object: class_method, parent: @namespace, gem: @gem) %>
      <% end %>

      <% @klass.instance_methods.sort_by(&:name).each do |instance_method| %>
        <%= render MethodDetails.new(object: instance_method, parent: @namespace, gem: @gem) %>
      <% end %>
    </div>
  </div>

  <div class="col-span-1">
    <%= render Superclass.new(superclass: @namespace, gem: @gem, title: "Module") if @namespace %>
    <%= render Superclass.new(superclass: @klass.superclass, gem: @gem, title: "Parent class") if @klass.superclass %>
    <%= render ModulesList.new(modules: @klass.included_modules, title: "Included Modules", gem: @gem) if @klass.included_modules.any? %>
    <%= render ModulesList.new(modules: @klass.extended_modules, title: "Extended Modules", gem: @gem) if @klass.extended_modules.any? %>
    <%= render MethodsList.new(methods: @klass.class_methods, gem: @gem, prefix: "Class") if @klass.class_methods.any? %>
    <%= render MethodsList.new(methods: @klass.instance_methods, gem: @gem, prefix: "Instance") if @klass.instance_methods.any? %>
    <%= render FilesList.new(files: @klass.defined_files, gem: @gem, title: "Defined in") if @klass.defined_files.any? %>
  </div>
</div>
