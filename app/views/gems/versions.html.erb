<%= render Layout::GemShow.new(gem: @gem, namespaces: @namespaces, classes: @gem.classes, class_methods: @gem.class_methods, instance_methods: @gem.instance_methods) do %>
  <div class="pb-5 flex justify-between">
    <%= render Layout::Subheading.new(title: "Versions") %>
  </div><hr>

  <div class="mt-12 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
    <% @gem.versions.each do |version| %>
      <%= link_to gem_version_path(@gem.name, version["number"]), class: "#{@gem.version == version["number"] ? "bg-gray-100 rounded-md" : nil}" do %>
        <%= render Layout::Card.new(title: version["number"], description: "Released on: #{DateTime.parse(version["created_at"]).to_date.to_fs(:long) }") do |card| %>
          <% if Gemspec.latest_version_for(@gem.name) == version["number"] %>
            <%= card.with_badge(label: "Latest", style: :gray) %>
          <% end %>

          <% if version["number"].include?("rc") %>
            <%= card.with_badge(label: "RC", style: :purple) %>
          <% end %>

          <% if version["number"].include?("pre") %>
            <%= card.with_badge(label: "Pre", style: :green) %>
          <% end %>

          <% if version["number"].include?("beta") %>
            <%= card.with_badge(label: "Beta", style: :yellow) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
<% end %>
